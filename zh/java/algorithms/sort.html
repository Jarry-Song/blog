<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>排序 | Android Nodes</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/blog/logo.png">
    <link rel="manifest" href="/blog/manifest.json">
    <link rel="apple-touch-icon" href="/blog/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/blog/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="欲速则不达，起于累土">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="/blog/assets/css/0.styles.c59328e2.css" as="style"><link rel="preload" href="/blog/assets/js/app.b29a8dd7.js" as="script"><link rel="preload" href="/blog/assets/js/2.f6cef42b.js" as="script"><link rel="preload" href="/blog/assets/js/63.1a1ddafe.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.7a48b7c5.js"><link rel="prefetch" href="/blog/assets/js/11.eac2ba23.js"><link rel="prefetch" href="/blog/assets/js/12.0f90fab7.js"><link rel="prefetch" href="/blog/assets/js/13.bec57e62.js"><link rel="prefetch" href="/blog/assets/js/14.3ae2a79a.js"><link rel="prefetch" href="/blog/assets/js/15.a791971b.js"><link rel="prefetch" href="/blog/assets/js/16.e5da048d.js"><link rel="prefetch" href="/blog/assets/js/17.4908b8a7.js"><link rel="prefetch" href="/blog/assets/js/18.46af3ffd.js"><link rel="prefetch" href="/blog/assets/js/19.89281622.js"><link rel="prefetch" href="/blog/assets/js/20.cd52446d.js"><link rel="prefetch" href="/blog/assets/js/21.82cce5e6.js"><link rel="prefetch" href="/blog/assets/js/22.80975ead.js"><link rel="prefetch" href="/blog/assets/js/23.96416586.js"><link rel="prefetch" href="/blog/assets/js/24.2c36cba8.js"><link rel="prefetch" href="/blog/assets/js/25.367808ef.js"><link rel="prefetch" href="/blog/assets/js/26.be8af843.js"><link rel="prefetch" href="/blog/assets/js/27.b222d373.js"><link rel="prefetch" href="/blog/assets/js/28.a12c5df9.js"><link rel="prefetch" href="/blog/assets/js/29.d5ff3c40.js"><link rel="prefetch" href="/blog/assets/js/3.6d59dab0.js"><link rel="prefetch" href="/blog/assets/js/30.cbbb74b5.js"><link rel="prefetch" href="/blog/assets/js/31.b75f6d67.js"><link rel="prefetch" href="/blog/assets/js/32.86d96ea4.js"><link rel="prefetch" href="/blog/assets/js/33.46446d62.js"><link rel="prefetch" href="/blog/assets/js/34.8408a108.js"><link rel="prefetch" href="/blog/assets/js/35.98c56f35.js"><link rel="prefetch" href="/blog/assets/js/36.bdaeac6f.js"><link rel="prefetch" href="/blog/assets/js/37.533f8161.js"><link rel="prefetch" href="/blog/assets/js/38.0200746e.js"><link rel="prefetch" href="/blog/assets/js/39.c88574ea.js"><link rel="prefetch" href="/blog/assets/js/4.1ea1eeff.js"><link rel="prefetch" href="/blog/assets/js/40.45749e2b.js"><link rel="prefetch" href="/blog/assets/js/41.f908dd77.js"><link rel="prefetch" href="/blog/assets/js/42.6a921fb9.js"><link rel="prefetch" href="/blog/assets/js/43.a545ead3.js"><link rel="prefetch" href="/blog/assets/js/44.599973fd.js"><link rel="prefetch" href="/blog/assets/js/45.4f5aa578.js"><link rel="prefetch" href="/blog/assets/js/46.bc77698b.js"><link rel="prefetch" href="/blog/assets/js/47.6fab262f.js"><link rel="prefetch" href="/blog/assets/js/48.06721492.js"><link rel="prefetch" href="/blog/assets/js/49.ddd2004c.js"><link rel="prefetch" href="/blog/assets/js/5.7d990afd.js"><link rel="prefetch" href="/blog/assets/js/50.68d30b00.js"><link rel="prefetch" href="/blog/assets/js/51.1e95b300.js"><link rel="prefetch" href="/blog/assets/js/52.7e58153e.js"><link rel="prefetch" href="/blog/assets/js/53.49c83746.js"><link rel="prefetch" href="/blog/assets/js/54.cafb7c5d.js"><link rel="prefetch" href="/blog/assets/js/55.e3a5298e.js"><link rel="prefetch" href="/blog/assets/js/56.16a6fa14.js"><link rel="prefetch" href="/blog/assets/js/57.a5849246.js"><link rel="prefetch" href="/blog/assets/js/58.21f63823.js"><link rel="prefetch" href="/blog/assets/js/59.1de0dd4e.js"><link rel="prefetch" href="/blog/assets/js/6.cec4111c.js"><link rel="prefetch" href="/blog/assets/js/60.d486fda7.js"><link rel="prefetch" href="/blog/assets/js/61.2df18a41.js"><link rel="prefetch" href="/blog/assets/js/62.f167b5ca.js"><link rel="prefetch" href="/blog/assets/js/64.4ba3449a.js"><link rel="prefetch" href="/blog/assets/js/65.8005097c.js"><link rel="prefetch" href="/blog/assets/js/66.5d3693a7.js"><link rel="prefetch" href="/blog/assets/js/67.e9d7bf30.js"><link rel="prefetch" href="/blog/assets/js/68.1efe09bb.js"><link rel="prefetch" href="/blog/assets/js/69.50f5445d.js"><link rel="prefetch" href="/blog/assets/js/7.9d95edae.js"><link rel="prefetch" href="/blog/assets/js/70.02047906.js"><link rel="prefetch" href="/blog/assets/js/71.634bd610.js"><link rel="prefetch" href="/blog/assets/js/72.a00660d0.js"><link rel="prefetch" href="/blog/assets/js/73.cb4a91db.js"><link rel="prefetch" href="/blog/assets/js/74.3f83725a.js"><link rel="prefetch" href="/blog/assets/js/75.89822bf9.js"><link rel="prefetch" href="/blog/assets/js/76.9c29fa27.js"><link rel="prefetch" href="/blog/assets/js/77.0e21a0d0.js"><link rel="prefetch" href="/blog/assets/js/78.83828550.js"><link rel="prefetch" href="/blog/assets/js/79.038d118d.js"><link rel="prefetch" href="/blog/assets/js/8.b3b24cde.js"><link rel="prefetch" href="/blog/assets/js/80.4ed5e1a3.js"><link rel="prefetch" href="/blog/assets/js/81.d08345df.js"><link rel="prefetch" href="/blog/assets/js/82.b6dfa43b.js"><link rel="prefetch" href="/blog/assets/js/83.78d8aa89.js"><link rel="prefetch" href="/blog/assets/js/84.9ecbf7a5.js"><link rel="prefetch" href="/blog/assets/js/85.49225f21.js"><link rel="prefetch" href="/blog/assets/js/86.29868731.js"><link rel="prefetch" href="/blog/assets/js/87.f05ddddc.js"><link rel="prefetch" href="/blog/assets/js/88.9703366d.js"><link rel="prefetch" href="/blog/assets/js/89.0a340baa.js"><link rel="prefetch" href="/blog/assets/js/9.5eb0e890.js"><link rel="prefetch" href="/blog/assets/js/90.af7d5cb4.js"><link rel="prefetch" href="/blog/assets/js/91.e94154f4.js"><link rel="prefetch" href="/blog/assets/js/92.32326a59.js"><link rel="prefetch" href="/blog/assets/js/93.12ad3fb5.js"><link rel="prefetch" href="/blog/assets/js/94.045060fa.js"><link rel="prefetch" href="/blog/assets/js/95.5c510610.js"><link rel="prefetch" href="/blog/assets/js/96.5bcee9fd.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.c59328e2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">Android Nodes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/zh/guide/" class="nav-link">
  备忘录
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Android" class="dropdown-title"><span class="title">Android</span> <span class="arrow down"></span></button> <button type="button" aria-label="Android" class="mobile-dropdown-title"><span class="title">Android</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/zh/android/basic/" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/zh/android/ui/" class="nav-link">
  高级UI
</a></li><li class="dropdown-item"><!----> <a href="/blog/zh/android/architecture/" class="nav-link">
  架构设计
</a></li><li class="dropdown-item"><!----> <a href="/blog/zh/android/performance/" class="nav-link">
  性能优化
</a></li><li class="dropdown-item"><!----> <a href="/blog/zh/android/ndk/" class="nav-link">
  NDK
</a></li><li class="dropdown-item"><!----> <a href="/blog/zh/android/framework/" class="nav-link">
  开源框架
</a></li><li class="dropdown-item"><!----> <a href="/blog/zh/android/jetpack/" class="nav-link">
  Jetpack
</a></li><li class="dropdown-item"><!----> <a href="/blog/zh/android/kotlin/" class="nav-link">
  Kotlin
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/zh/java/basic/" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/zh/java/structures/" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/blog/zh/java/algorithms/" class="nav-link router-link-active">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/blog/zh/java/exercise/" class="nav-link">
  算法练习
</a></li></ul></div></div><div class="nav-item"><a href="/blog/zh/net/" class="nav-link">
  API
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          代码管理
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/zh/api/cli.html" class="nav-link">
  git
</a></li><li class="dropdown-subitem"><a href="/blog/zh/api/node.html" class="nav-link">
  分支管理
</a></li></ul></li><li class="dropdown-item"><h4>
          开发规范
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/zh/miscellaneous/local-development.html" class="nav-link">
  代码规范
</a></li><li class="dropdown-subitem"><a href="/blog/zh/miscellaneous/design-concepts.html" class="nav-link">
  团队协作
</a></li><li class="dropdown-subitem"><a href="/blog/zh/faq/" class="nav-link">
  需求与工作分配
</a></li><li class="dropdown-subitem"><a href="/blog/zh/miscellaneous/glossary.html" class="nav-link">
  文档沉淀
</a></li></ul></li><li class="dropdown-item"><h4>
          软实力
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/zh/miscellaneous/migration-guide.html" class="nav-link">
  必备技能
</a></li><li class="dropdown-subitem"><a href="https://github.com/vuejs/vuepress/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  团队管理
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/zh/guide/" class="nav-link">
  备忘录
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Android" class="dropdown-title"><span class="title">Android</span> <span class="arrow down"></span></button> <button type="button" aria-label="Android" class="mobile-dropdown-title"><span class="title">Android</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/zh/android/basic/" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/zh/android/ui/" class="nav-link">
  高级UI
</a></li><li class="dropdown-item"><!----> <a href="/blog/zh/android/architecture/" class="nav-link">
  架构设计
</a></li><li class="dropdown-item"><!----> <a href="/blog/zh/android/performance/" class="nav-link">
  性能优化
</a></li><li class="dropdown-item"><!----> <a href="/blog/zh/android/ndk/" class="nav-link">
  NDK
</a></li><li class="dropdown-item"><!----> <a href="/blog/zh/android/framework/" class="nav-link">
  开源框架
</a></li><li class="dropdown-item"><!----> <a href="/blog/zh/android/jetpack/" class="nav-link">
  Jetpack
</a></li><li class="dropdown-item"><!----> <a href="/blog/zh/android/kotlin/" class="nav-link">
  Kotlin
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/zh/java/basic/" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/zh/java/structures/" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/blog/zh/java/algorithms/" class="nav-link router-link-active">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/blog/zh/java/exercise/" class="nav-link">
  算法练习
</a></li></ul></div></div><div class="nav-item"><a href="/blog/zh/net/" class="nav-link">
  API
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          代码管理
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/zh/api/cli.html" class="nav-link">
  git
</a></li><li class="dropdown-subitem"><a href="/blog/zh/api/node.html" class="nav-link">
  分支管理
</a></li></ul></li><li class="dropdown-item"><h4>
          开发规范
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/zh/miscellaneous/local-development.html" class="nav-link">
  代码规范
</a></li><li class="dropdown-subitem"><a href="/blog/zh/miscellaneous/design-concepts.html" class="nav-link">
  团队协作
</a></li><li class="dropdown-subitem"><a href="/blog/zh/faq/" class="nav-link">
  需求与工作分配
</a></li><li class="dropdown-subitem"><a href="/blog/zh/miscellaneous/glossary.html" class="nav-link">
  文档沉淀
</a></li></ul></li><li class="dropdown-item"><h4>
          软实力
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/zh/miscellaneous/migration-guide.html" class="nav-link">
  必备技能
</a></li><li class="dropdown-subitem"><a href="https://github.com/vuejs/vuepress/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  团队管理
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Algorithms</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/zh/java/algorithms/" aria-current="page" class="sidebar-link">大纲</a></li><li><a href="/blog/zh/java/algorithms/sort.html" aria-current="page" class="active sidebar-link">排序</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/zh/java/algorithms/sort.html#初识排序" class="sidebar-link">初识排序</a></li><li class="sidebar-sub-header"><a href="/blog/zh/java/algorithms/sort.html#_10大排序算法" class="sidebar-link">10大排序算法</a></li><li class="sidebar-sub-header"><a href="/blog/zh/java/algorithms/sort.html#冒泡排序-bubble-sort" class="sidebar-link">冒泡排序（Bubble Sort）</a></li><li class="sidebar-sub-header"><a href="/blog/zh/java/algorithms/sort.html#排序算法的稳定性-stability" class="sidebar-link">排序算法的稳定性（Stability）</a></li><li class="sidebar-sub-header"><a href="/blog/zh/java/algorithms/sort.html#选择排序-selection-sort" class="sidebar-link">选择排序（Selection Sort）</a></li><li class="sidebar-sub-header"><a href="/blog/zh/java/algorithms/sort.html#堆排序-heap-sort" class="sidebar-link">堆排序（Heap Sort）</a></li><li class="sidebar-sub-header"><a href="/blog/zh/java/algorithms/sort.html#插入排序-insertion-sort" class="sidebar-link">插入排序（Insertion Sort）</a></li><li class="sidebar-sub-header"><a href="/blog/zh/java/algorithms/sort.html#二分搜索-binary-search" class="sidebar-link">二分搜索（Binary Search）</a></li><li class="sidebar-sub-header"><a href="/blog/zh/java/algorithms/sort.html#归并排序-merge-sort" class="sidebar-link">归并排序（Merge Sort）</a></li><li class="sidebar-sub-header"><a href="/blog/zh/java/algorithms/sort.html#常见的递推式与复杂度" class="sidebar-link">常见的递推式与复杂度</a></li><li class="sidebar-sub-header"><a href="/blog/zh/java/algorithms/sort.html#作业" class="sidebar-link">作业</a></li><li class="sidebar-sub-header"><a href="/blog/zh/java/algorithms/sort.html#快速排序-quick-sort" class="sidebar-link">快速排序（Quick Sort）</a></li><li class="sidebar-sub-header"><a href="/blog/zh/java/algorithms/sort.html#希尔排序-shell-sort" class="sidebar-link">希尔排序（Shell Sort）</a></li><li class="sidebar-sub-header"><a href="/blog/zh/java/algorithms/sort.html#计数排序-counting-sort" class="sidebar-link">计数排序（Counting Sort）</a></li><li class="sidebar-sub-header"><a href="/blog/zh/java/algorithms/sort.html#基数排序-radix-sort" class="sidebar-link">基数排序（Radix Sort）</a></li><li class="sidebar-sub-header"><a href="/blog/zh/java/algorithms/sort.html#桶排序-bucket-sort" class="sidebar-link">桶排序（Bucket Sort）</a></li><li class="sidebar-sub-header"><a href="/blog/zh/java/algorithms/sort.html#史上-最强-排序-休眠排序" class="sidebar-link">史上“最强”排序 – 休眠排序</a></li></ul></li><li><a href="/blog/zh/java/algorithms/union-find.html" class="sidebar-link">并查集</a></li><li><a href="/blog/zh/java/algorithms/graph.html" class="sidebar-link">图（Graph）</a></li><li><a href="/blog/zh/java/algorithms/recursion.html" class="sidebar-link">递归Recursion</a></li><li><a href="/blog/zh/java/algorithms/backtrack.html" class="sidebar-link">回溯</a></li><li><a href="/blog/zh/java/algorithms/greedy.html" class="sidebar-link">贪心（Greedy）</a></li><li><a href="/blog/zh/java/algorithms/divide-conquer.html" class="sidebar-link">分治</a></li><li><a href="/blog/zh/java/algorithms/coin-change.html" class="sidebar-link">动态规划（Dynamic Programming）</a></li><li><a href="/blog/zh/java/algorithms/bloom-filter.html" class="sidebar-link">布隆过滤器（Bloom Filter)</a></li><li><a href="/blog/zh/java/algorithms/skip-list.html" class="sidebar-link">跳表（Skip List）</a></li><li><a href="/blog/zh/java/algorithms/B-tree.html" class="sidebar-link">B+树</a></li><li><a href="/blog/zh/java/algorithms/sequence.html" class="sidebar-link">串（Sequence）</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="排序"><a href="#排序" class="header-anchor">#</a> 排序</h1> <h2 id="初识排序"><a href="#初识排序" class="header-anchor">#</a> 初识排序</h2> <p>什么叫排序？</p> <ul><li>排序前：3,1,6,9,2,5,8,4,7</li> <li>排序后：1,2,3,4,5,6,7,8,9（升序） 或者 9,8,7,6,5,4,3,2,1（降序）</li></ul> <p>排序的应用无处不在</p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200913232847.png" alt="image.png"></p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200913232934.png" alt="image.png"></p> <h2 id="_10大排序算法"><a href="#_10大排序算法" class="header-anchor">#</a> 10大排序算法</h2> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200913233009.png" alt="image.png"></p> <p>以上表格是基于数组进行排序的一般性结论</p> <p>冒泡、选择、插入、归并、快速、希尔、堆排序，属于比较排序（Comparison Sorting）</p> <h2 id="冒泡排序-bubble-sort"><a href="#冒泡排序-bubble-sort" class="header-anchor">#</a> 冒泡排序（Bubble Sort）</h2> <p>冒泡排序也叫做起泡排序</p> <p>执行流程（本课程统一以升序为例子）</p> <h3 id="原始实现"><a href="#原始实现" class="header-anchor">#</a> 原始实现</h3> <p>① 从头开始比较每一对相邻元素，如果第1个比第2个大，就交换它们的位置</p> <ul><li>✓执行完一轮后，最末尾那个元素就是最大的元素</li></ul> <p>② 忽略 ① 中曾经找到的最大元素，重复执行步骤 ①，直到全部元素有序</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> end <span class="token operator">=</span> array<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> end <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> end<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> begin <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> begin <span class="token operator">&lt;=</span> end<span class="token punctuation">;</span> begin<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>begin<span class="token punctuation">]</span> <span class="token operator">&lt;</span> array<span class="token punctuation">[</span>begin <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">int</span> tmp <span class="token operator">=</span> array<span class="token punctuation">[</span>begin<span class="token punctuation">]</span><span class="token punctuation">;</span>
			array<span class="token punctuation">[</span>begin<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>begin <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			array<span class="token punctuation">[</span>begin <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="冒泡排序-优化1"><a href="#冒泡排序-优化1" class="header-anchor">#</a> 冒泡排序 – 优化①</h3> <p>如果序列已经完全有序，可以提前终止冒泡排序</p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200913233101.png" alt="image.png"></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> end <span class="token operator">=</span> array<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> end <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> end<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">boolean</span> sorted <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> begin <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> begin <span class="token operator">&lt;=</span> end<span class="token punctuation">;</span> begin<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>begin<span class="token punctuation">]</span> <span class="token operator">&lt;</span> array<span class="token punctuation">[</span>begin <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">int</span> tmp <span class="token operator">=</span> array<span class="token punctuation">[</span>begin<span class="token punctuation">]</span><span class="token punctuation">;</span>
			array<span class="token punctuation">[</span>begin<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>begin <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			array<span class="token punctuation">[</span>begin <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
			sorted <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>sorted<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="冒泡排序-优化2"><a href="#冒泡排序-优化2" class="header-anchor">#</a> 冒泡排序 – 优化②</h3> <p>如果序列尾部已经局部有序，可以记录最后1次交换的位置，减少比较次数</p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200913233124.png" alt="image.png"></p> <p>最后1次交换的位置是 6</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> end <span class="token operator">=</span> array<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> end <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> end<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// sortedIndex的初始值在数组完全有序的时候有用</span>
	<span class="token keyword">int</span> sortedIndex <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> begin <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> begin <span class="token operator">&lt;=</span> end<span class="token punctuation">;</span> begin<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>begin<span class="token punctuation">]</span> <span class="token operator">&lt;</span> array<span class="token punctuation">[</span>begin <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">int</span> tmp <span class="token operator">=</span> array<span class="token punctuation">[</span>begin<span class="token punctuation">]</span><span class="token punctuation">;</span>
			array<span class="token punctuation">[</span>begin<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>begin <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			array<span class="token punctuation">[</span>begin <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
			sortedIndex <span class="token operator">=</span> begin<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	end <span class="token operator">=</span> sortedIndex<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="复杂度分析"><a href="#复杂度分析" class="header-anchor">#</a> 复杂度分析</h3> <p>1.最坏、平均时间复杂度：O(n2)</p> <p>2.最好时间复杂度：O(n)</p> <p>3.空间复杂度：O(1)</p> <h2 id="排序算法的稳定性-stability"><a href="#排序算法的稳定性-stability" class="header-anchor">#</a> 排序算法的稳定性（Stability）</h2> <p>1.如果相等的2个元素，在排序前后的相对位置保持不变，那么这是稳定的排序算法</p> <ul><li>排序前：5, 1, 3𝑎, 4, 7, 3𝑏</li> <li>稳定的排序： 1, 3𝑎, 3𝑏, 4, 5, 7</li> <li>不稳定的排序：1, 3𝑏, 3𝑎, 4, 5, 7</li></ul> <p>2.对自定义对象进行排序时，稳定性会影响最终的排序效果</p> <p>3.冒泡排序属于稳定的排序算法</p> <ul><li>稍有不慎，稳定的排序算法也能被写成不稳定的排序算法，比如下面的冒泡排序代码是不稳定的</li></ul> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200913233222.png" alt="image.png"></p> <h3 id="原地算法-in-place-algorithm"><a href="#原地算法-in-place-algorithm" class="header-anchor">#</a> 原地算法（In-place Algorithm）</h3> <p>何为原地算法？</p> <ul><li><p>不依赖额外的资源或者依赖少数的额外资源，仅依靠输出来覆盖输入</p></li> <li><p>空间复杂度为 𝑂(1) 的都可以认为是原地算法</p></li></ul> <p>非原地算法，称为 Not-in-place 或者 Out-of-place</p> <p>冒泡排序属于 In-place</p> <h2 id="选择排序-selection-sort"><a href="#选择排序-selection-sort" class="header-anchor">#</a> 选择排序（Selection Sort）</h2> <h3 id="执行流程"><a href="#执行流程" class="header-anchor">#</a> 执行流程</h3> <p>① 从序列中找出最大的那个元素，然后与最末尾的元素交换位置</p> <ul><li>✓执行完一轮后，最末尾的那个元素就是最大的元素</li></ul> <p>② 忽略 ① 中曾经找到的最大元素，重复执行步骤 ①</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> end <span class="token operator">=</span> array<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> end <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> end<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">int</span> maxIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> begin <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> begin <span class="token operator">&lt;=</span> end<span class="token punctuation">;</span> begin<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>maxIndex<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> array<span class="token punctuation">[</span>begin<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					maxIndex <span class="token operator">=</span> begin<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">int</span> tmp <span class="token operator">=</span> array<span class="token punctuation">[</span>maxIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
		array<span class="token punctuation">[</span>maxIndex<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">;</span>
		array<span class="token punctuation">[</span>end<span class="token punctuation">]</span> <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="复杂度分析-2"><a href="#复杂度分析-2" class="header-anchor">#</a> 复杂度分析</h3> <p>1.选择排序的交换次数要远远少于冒泡排序，平均性能优于冒泡排序</p> <p>2.最好、最坏、平均时间复杂度：O(n2)，空间复杂度：O(1)，属于不稳定排序</p> <p><strong>思考</strong></p> <p>选择排序是否还有优化的空间？</p> <ul><li>✓使用堆来选择最大值</li></ul> <h2 id="堆排序-heap-sort"><a href="#堆排序-heap-sort" class="header-anchor">#</a> 堆排序（Heap Sort）</h2> <p>堆排序可以认为是对选择排序的一种优化</p> <h3 id="执行流程-2"><a href="#执行流程-2" class="header-anchor">#</a> 执行流程</h3> <p>① 对序列进行原地建堆（heapify）</p> <p>② 重复执行以下操作，直到堆的元素数量为 1</p> <p>✓交换堆顶元素与尾元素</p> <p>✓堆的元素数量减 1</p> <p>✓对 0 位置进行 1 次 siftDown 操</p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200913233256.png" alt="image.png"></p> <h3 id="实现"><a href="#实现" class="header-anchor">#</a> 实现</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HeapSort</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Comparable</span><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">Sort</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token keyword">int</span> heapSize<span class="token punctuation">;</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 原地建堆</span>
		heapSize <span class="token operator">=</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token punctuation">(</span>heapSize <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">siftDown</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		
		<span class="token keyword">while</span> <span class="token punctuation">(</span>heapSize <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">// 交换堆顶元素和尾部元素</span>
			<span class="token function">swap</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">--</span>heapSize<span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// 对0位置进行siftDown（恢复堆的性质）</span>
			<span class="token function">siftDown</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">siftDown</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">T</span> element <span class="token operator">=</span> array<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
		
		<span class="token keyword">int</span> half <span class="token operator">=</span> heapSize <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> half<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// index必须是非叶子节点</span>
			<span class="token comment">// 默认是左边跟父节点比</span>
			<span class="token keyword">int</span> childIndex <span class="token operator">=</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token class-name">T</span> child <span class="token operator">=</span> array<span class="token punctuation">[</span>childIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
			
			<span class="token keyword">int</span> rightIndex <span class="token operator">=</span> childIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token comment">// 右子节点比左子节点大</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>rightIndex <span class="token operator">&lt;</span> heapSize <span class="token operator">&amp;&amp;</span> 
					<span class="token function">cmp</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>rightIndex<span class="token punctuation">]</span><span class="token punctuation">,</span> child<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
				child <span class="token operator">=</span> array<span class="token punctuation">[</span>childIndex <span class="token operator">=</span> rightIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			
			<span class="token comment">// 大于等于子节点</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">cmp</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> child<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
			
			array<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> child<span class="token punctuation">;</span>
			index <span class="token operator">=</span> childIndex<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		array<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> element<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="复杂度分析-3"><a href="#复杂度分析-3" class="header-anchor">#</a> 复杂度分析</h3> <p>最好、最坏、平均时间复杂度：O(nlogn)，空间复杂度：O(1)，属于不稳定排序</p> <h3 id="泛型"><a href="#泛型" class="header-anchor">#</a> 泛型</h3> <h3 id="稳定性"><a href="#稳定性" class="header-anchor">#</a> 稳定性</h3> <div class="language- extra-class"><pre class="language-text"><code>
</code></pre></div><h2 id="插入排序-insertion-sort"><a href="#插入排序-insertion-sort" class="header-anchor">#</a> 插入排序（Insertion Sort）</h2> <p>插入排序非常类似于扑克牌的排序</p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200913233356.png" alt="image.png"></p> <h3 id="执行流程-3"><a href="#执行流程-3" class="header-anchor">#</a> 执行流程</h3> <p>① 在执行过程中，插入排序会将序列分为2部分</p> <ul><li>✓头部是已经排好序的，尾部是待排序的</li></ul> <p>② 从头开始扫描每一个元素</p> <ul><li>✓每当扫描到一个元素，就将它插入到头部合适的位置，使得头部数据依然保持有序</li></ul> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200913233413.png" alt="image.png"></p> <h3 id="实现-2"><a href="#实现-2" class="header-anchor">#</a> 实现</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> begin <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> begin <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> begin<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">int</span> cur <span class="token operator">=</span> begin<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token function">cmp</span><span class="token punctuation">(</span>cur<span class="token punctuation">,</span> cur <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">swap</span><span class="token punctuation">(</span>cur<span class="token punctuation">,</span> cur <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				cur<span class="token operator">--</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
</code></pre></div><h3 id="插入排序-逆序对-inversion"><a href="#插入排序-逆序对-inversion" class="header-anchor">#</a> 插入排序 – 逆序对（Inversion）</h3> <p>什么是逆序对？</p> <ul><li>数组 &lt;2,3,8,6,1&gt; 的逆序对为：&lt;2,1&gt; ❤️,1&gt; &lt;8,1&gt; &lt;8,6&gt; &lt;6,1&gt;，共5个逆序对(两个组成对，前面的比后面的大)</li></ul> <p><strong>插入排序的时间复杂度与逆序对的数量成正比关系</strong></p> <ul><li>逆序对的数量越多，插入排序的时间复杂度越高</li></ul> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200913233439.png" alt="image.png"></p> <p>1.最坏、平均时间复杂度：O(n2)</p> <p>2.最好时间复杂度：O(n)</p> <p>3.空间复杂度：O(1)</p> <p>4.属于稳定排序</p> <p>5.当逆序对的数量极少时，插入排序的效率特别高</p> <ul><li>甚至速度比 O nlogn 级别的快速排序还要快</li></ul> <p>6.数据量不是特别大的时候，插入排序的效率也是非常好的</p> <h3 id="插入排序-优化"><a href="#插入排序-优化" class="header-anchor">#</a> 插入排序 – 优化</h3> <p><strong>思路:</strong> 将【交换】转为【挪动</p> <p>① 先将待插入的元素备份</p> <p>② 头部有序数据中比待插入元素大的，都朝尾部方向挪动1个位置</p> <p>③ 将待插入元素放到最终的合适位置</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> begin <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> begin <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> begin<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">int</span> cur <span class="token operator">=</span> begin<span class="token punctuation">;</span>
	<span class="token class-name">T</span> v <span class="token operator">=</span> array<span class="token punctuation">[</span>cur<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token function">cmp</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> array<span class="token punctuation">[</span>cur <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		array<span class="token punctuation">[</span>cur<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>cur <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		cur<span class="token operator">--</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	array<span class="token punctuation">[</span>cur<span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914000221.png" alt="image.png"></p> <h2 id="二分搜索-binary-search"><a href="#二分搜索-binary-search" class="header-anchor">#</a> 二分搜索（Binary Search）</h2> <p>如何确定一个元素在数组中的位置？（假设数组里面全都是整数）</p> <ul><li>如果是无序数组，从第 0 个位置开始遍历搜索，平均时间复杂度：O(n)</li></ul> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914000251.png" alt="image.png"></p> <p>如果是有序数组，可以使用二分搜索，最坏时间复杂度：O(logn）</p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914000312.png" alt="image.png"></p> <h3 id="思路"><a href="#思路" class="header-anchor">#</a> 思路</h3> <ul><li>假设在 [begin, end) 范围内搜索某个元素 v，mid == (begin + end) / 2</li> <li>如果 v &lt; m，去 [begin, mid) 范围内二分搜索</li> <li>如果 v &gt; m，去 [mid + 1, end) 范围内二分搜索</li> <li>如果 v == m，直接返回 mid</li></ul> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914000333.png" alt="image.png"></p> <p><strong>例子</strong></p> <p>搜索10</p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914000355.png" alt="image.png"></p> <p>搜索3</p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914000416.png" alt="image.png"></p> <h3 id="实现-3"><a href="#实现-3" class="header-anchor">#</a> 实现</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
* 查找v在有序数组array中的位置
*/</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array<span class="token punctuation">,</span> <span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>array <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> array<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> begin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> end <span class="token operator">=</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>begin <span class="token operator">+</span> end<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">&lt;</span> array<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			end <span class="token operator">=</span> mid<span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">&gt;</span> array<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			begin <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> mid<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>思考</strong></p> <p>如果存在多个重复的值，返回的是哪一个？ ✓不确</p> <h3 id="插入排序-二分搜索优化"><a href="#插入排序-二分搜索优化" class="header-anchor">#</a> 插入排序-二分搜索优化</h3> <p>在元素 v 的插入过程中，可以先二分搜索出合适的插入位置，然后再将元素 v 插入</p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914000442.png" alt="image.png"></p> <p>要求二分搜索返回的插入位置：<strong>第1个大于 v 的元素位置</strong></p> <ul><li>如果 v 是 5，返回 2</li> <li>如果 v 是 1，返回 0</li> <li>如果 v 是 15，返回 7</li> <li>如果 v 是 8，返回 5</li></ul> <h3 id="二分搜索优化"><a href="#二分搜索优化" class="header-anchor">#</a> 二分搜索优化</h3> <p><strong>思路</strong></p> <ul><li>假设在 [begin, end) 范围内搜索某个元素 v，mid == (begin + end) / 2</li> <li>如果 v &lt; m，去 [begin, mid) 范围内二分搜索</li> <li>如果 v ≥ m，去 [mid + 1, end) 范围内二分搜</li></ul> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914000518.png" alt="image.png"></p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914000534.png" alt="image.png"></p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914000552.png" alt="image.png"></p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914000615.png" alt="image.png"></p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914000632.png" alt="image.png"></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
* 查找v在有序数组array中待插入位置
*/</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array<span class="token punctuation">,</span> <span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>array <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> array<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> begin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> end <span class="token operator">=</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>begin <span class="token operator">+</span> end<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">&lt;</span> array<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			end <span class="token operator">=</span> mid<span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			begin <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> begin<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="插入排序-二分搜索优化-实现"><a href="#插入排序-二分搜索优化-实现" class="header-anchor">#</a> 插入排序-二分搜索优化-实现</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> begin <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> begin <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> begin<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">insert</span><span class="token punctuation">(</span>begin<span class="token punctuation">,</span> <span class="token function">search</span><span class="token punctuation">(</span>begin<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
	
<span class="token comment">/**
* 将source位置的元素插入到dest位置
* @param source
* @param dest
*/</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">int</span> source<span class="token punctuation">,</span> <span class="token keyword">int</span> dest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token class-name">T</span> v <span class="token operator">=</span> array<span class="token punctuation">[</span>source<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> source<span class="token punctuation">;</span> i <span class="token operator">&gt;</span> dest<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	array<span class="token punctuation">[</span>dest<span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
	
<span class="token comment">/**
* 利用二分搜索找到 index 位置元素的待插入位置
* 已经排好序数组的区间范围是 [0, index)
* @param index
* @return
*/</span>
<span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">int</span> begin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> end <span class="token operator">=</span> index<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>begin <span class="token operator">+</span> end<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">cmp</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span> array<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			end <span class="token operator">=</span> mid<span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			begin <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token keyword">return</span> begin<span class="token punctuation">;</span>
</code></pre></div><p>需要注意的是，使用了二分搜索后，只是减少了比较次数，但插入排序的平均时间复杂度依然是 O(n2)</p> <h2 id="归并排序-merge-sort"><a href="#归并排序-merge-sort" class="header-anchor">#</a> 归并排序（Merge Sort）</h2> <p>1945年由约翰·冯·诺伊曼（John von Neumann）首次提出</p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914000655.png" alt="image.png"></p> <h3 id="执行流程-4"><a href="#执行流程-4" class="header-anchor">#</a> 执行流程</h3> <p>① 不断地将当前序列平均分割成2个子序列</p> <ul><li>✓直到不能再分割（序列中只剩1个元素）</li></ul> <p>② 不断地将2个子序列合并成一个有序序列</p> <ul><li>✓直到最终只剩下1个有序序列</li></ul> <h3 id="divide实现"><a href="#divide实现" class="header-anchor">#</a> divide实现</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		leftArray <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">new</span> <span class="token class-name">Comparable</span><span class="token punctuation">[</span>array<span class="token punctuation">.</span>length <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token function">sort</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> array<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">// T(n) = T(n/2) + T(n/2) + O(n)</span>
	
	<span class="token comment">/**
	 * 对 [begin, end) 范围的数据进行归并排序
	 */</span>
	<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> begin<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>end <span class="token operator">-</span> begin <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
		
		<span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>begin <span class="token operator">+</span> end<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token function">sort</span><span class="token punctuation">(</span>begin<span class="token punctuation">,</span> mid<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">sort</span><span class="token punctuation">(</span>mid<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">merge</span><span class="token punctuation">(</span>begin<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><h3 id="merge"><a href="#merge" class="header-anchor">#</a> merge</h3> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914000752.png" alt="image.png"></p> <p>merge细节</p> <p>需要 merge 的 2 组序列存在于同一个数组中，并且是挨在一起的</p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914000816.png" alt="image.png"></p> <p>为了更好地完成 merge 操作，最好将其中 1 组序列备份出来，比如 [begin, mid)</p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914000845.png" alt="image.png"></p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914000931.png" alt="image.png"></p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914001003.png" alt="image.png"></p> <p>merge – 左边先结束</p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914001032.png" alt="image.png"></p> <p>merge – 右边先结束</p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914001053.png" alt="image.png"></p> <p>merge实现</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
	 * 将 [begin, mid) 和 [mid, end) 范围的序列合并成一个有序序列
	 */</span>
	<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">int</span> begin<span class="token punctuation">,</span> <span class="token keyword">int</span> mid<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">int</span> li <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> le <span class="token operator">=</span> mid <span class="token operator">-</span> begin<span class="token punctuation">;</span>
		<span class="token keyword">int</span> ri <span class="token operator">=</span> mid<span class="token punctuation">,</span> re <span class="token operator">=</span> end<span class="token punctuation">;</span>
		<span class="token keyword">int</span> ai <span class="token operator">=</span> begin<span class="token punctuation">;</span>
		
		<span class="token comment">// 备份左边数组</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> li<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> le<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			leftArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>begin <span class="token operator">+</span> i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		
		<span class="token comment">// 如果左边还没有结束</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>li <span class="token operator">&lt;</span> le<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
			<span class="token keyword">if</span> <span class="token punctuation">(</span>ri <span class="token operator">&lt;</span> re <span class="token operator">&amp;&amp;</span> <span class="token function">cmp</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>ri<span class="token punctuation">]</span><span class="token punctuation">,</span> leftArray<span class="token punctuation">[</span>li<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				array<span class="token punctuation">[</span>ai<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>ri<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				array<span class="token punctuation">[</span>ai<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> leftArray<span class="token punctuation">[</span>li<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
</code></pre></div><h3 id="复杂度分析-4"><a href="#复杂度分析-4" class="header-anchor">#</a> 复杂度分析</h3> <p>归并排序花费的时间</p> <ul><li>T(n)= 2 ∗ T(n/2)+ O(n)</li> <li>T(1) = O(1)</li> <li>T(n)/n = T(n/2)/(n/2)+ O(1)</li></ul> <p>2.令S(n)= T(n)/n</p> <ul><li>S(1)= O(1)</li> <li>S(n) = S(n/2) + O(1) = S(n/4) + O(2) = S(n/8)+ O(3) = S (n/2k) + O(k) = S(1)+ O(logn) = O(logn)</li> <li>T(n) = n ∗ S(n) = O(nlogn)</li></ul> <p>3.由于归并排序总是平均分割子序列，所以最好、最坏、平均时间复杂度都是 O(nlogn) ，属于稳定排序</p> <p>4.从代码中不难看出：归并排序的空间复杂度是 O(n/2+ logn) = O(n)</p> <ul><li>n/2 用于临时存放左侧数组，logn 是因为递归调用</li></ul> <h2 id="常见的递推式与复杂度"><a href="#常见的递推式与复杂度" class="header-anchor">#</a> 常见的递推式与复杂度</h2> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914001118.png" alt="image.png"></p> <h2 id="作业"><a href="#作业" class="header-anchor">#</a> 作业</h2> <p>合并两个有序数组</p> <ul><li>https://leetcode-cn.com/problems/merge-sorted-array/</li></ul> <p>合并两个有序链表</p> <ul><li>https://leetcode-cn.com/problems/merge-two-sorted-lists/comments/</li></ul> <p>合并K个有序链表</p> <ul><li>https://leetcode-cn.com/problems/merge-k-sorted-lists/</li></ul> <p>解题教程</p> <ul><li>https://ke.qq.com/course/436549</li></ul> <h2 id="快速排序-quick-sort"><a href="#快速排序-quick-sort" class="header-anchor">#</a> 快速排序（Quick Sort）</h2> <p>1960年由查尔斯·安东尼·理查德·霍尔（Charles Antony Richard Hoare，缩写为C. A. R. Hoare）提出</p> <ul><li>昵称为东尼·霍尔（Tony Hoare)</li></ul> <h3 id="执行流程-5"><a href="#执行流程-5" class="header-anchor">#</a> 执行流程</h3> <p>① 从序列中选择一个轴点元素（pivot）</p> <ul><li>✓假设每次选择 0 位置的元素为轴点元素</li></ul> <p>② 利用 pivot 将序列分割成 2 个子序列</p> <ul><li>✓将小于 pivot 的元素放在pivot前面（左侧）</li> <li>✓将大于 pivot 的元素放在pivot后面（右侧）</li> <li>✓等于pivot的元素放哪边都可以</li></ul> <p>③ 对子序列进行 ① ② 操作</p> <ul><li>✓直到不能再分割（子序列中只剩下1个元素）</li></ul> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914001146.png" alt="image.png"></p> <p>快速排序的本质：逐渐将每一个元素都转换成轴点元素</p> <h3 id="轴点构造"><a href="#轴点构造" class="header-anchor">#</a> 轴点构造</h3> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914001224.png" alt="image.png"></p> <h3 id="时间复杂度"><a href="#时间复杂度" class="header-anchor">#</a> 时间复杂度</h3> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914001243.png" alt="image.png"></p> <p>1.在轴点左右元素数量比较均匀的情况下，同时也是最好的情况</p> <ul><li>T(n) = 2 ∗ T(n/2)+ O(n) = O(nlogn)</li></ul> <p>2.如果轴点左右元素数量极度不均匀，最坏情况</p> <p>T(n) = T(n) − 1 + O(n) = O(n2）</p> <p>3.为了降低最坏情况的出现概率，一般采取的做法是</p> <ul><li>随机选择轴点元素</li></ul> <p>4.最好、平均时间复杂度：O(nlogn)</p> <p>5.最坏时间复杂度：O(n2)</p> <p>6.由于递归调用的缘故，空间复杂度：O(logn)</p> <p>7.属于不稳定排</p> <h3 id="实现-4"><a href="#实现-4" class="header-anchor">#</a> 实现</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">sort</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> array<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/**
	 * 对 [begin, end) 范围的元素进行快速排序
	 * @param begin
	 * @param end
	 */</span>
	<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> begin<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
		<span class="token keyword">if</span> <span class="token punctuation">(</span>end <span class="token operator">-</span> begin <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
		
		<span class="token comment">// 确定轴点位置 O(n)</span>
		<span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token function">pivotIndex</span><span class="token punctuation">(</span>begin<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 对子序列进行快速排序</span>
		<span class="token function">sort</span><span class="token punctuation">(</span>begin<span class="token punctuation">,</span> mid<span class="token punctuation">)</span><span class="token punctuation">;</span> 
		<span class="token function">sort</span><span class="token punctuation">(</span>mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token punctuation">}</span> 
	
	<span class="token comment">/**
	 * 构造出 [begin, end) 范围的轴点元素
	 * @return 轴点元素的最终位置
	 */</span>
	<span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">pivotIndex</span><span class="token punctuation">(</span><span class="token keyword">int</span> begin<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 随机选择一个元素跟begin位置进行交换</span>
		<span class="token function">swap</span><span class="token punctuation">(</span>begin<span class="token punctuation">,</span> begin <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>end <span class="token operator">-</span> begin<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token comment">// 备份begin位置的元素</span>
		<span class="token class-name">T</span> pivot <span class="token operator">=</span> array<span class="token punctuation">[</span>begin<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token comment">// end指向最后一个元素</span>
		end<span class="token operator">--</span><span class="token punctuation">;</span>
		
		<span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">cmp</span><span class="token punctuation">(</span>pivot<span class="token punctuation">,</span> array<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 右边元素 &gt; 轴点元素</span>
					end<span class="token operator">--</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">// 右边元素 &lt;= 轴点元素</span>
					array<span class="token punctuation">[</span>begin<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">;</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">cmp</span><span class="token punctuation">(</span>pivot<span class="token punctuation">,</span> array<span class="token punctuation">[</span>begin<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 左边元素 &lt; 轴点元素</span>
					begin<span class="token operator">++</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">// 左边元素 &gt;= 轴点元素</span>
					array<span class="token punctuation">[</span>end<span class="token operator">--</span><span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>begin<span class="token punctuation">]</span><span class="token punctuation">;</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		
		<span class="token comment">// 将轴点元素放入最终的位置</span>
		array<span class="token punctuation">[</span>begin<span class="token punctuation">]</span> <span class="token operator">=</span> pivot<span class="token punctuation">;</span>
		<span class="token comment">// 返回轴点元素的位置</span>
		<span class="token keyword">return</span> begin<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><h3 id="与轴点相等的元素"><a href="#与轴点相等的元素" class="header-anchor">#</a> 与轴点相等的元素</h3> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914001316.png" alt="image.png"></p> <p>如果序列中的所有元素都与轴点元素相等，利用目前的算法实现，轴点元素可以将序列分割成 2 个均匀的子序列</p> <p>**思考：**cmp 位置的判断分别改为 ≤、≥ 会起到什么效果？</p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914001338.png" alt="image.png"></p> <p>轴点元素分割出来的子序列极度不均匀</p> <ul><li>导致出现最坏时间复杂度 O(n2)</li></ul> <h2 id="希尔排序-shell-sort"><a href="#希尔排序-shell-sort" class="header-anchor">#</a> 希尔排序（Shell Sort）</h2> <p>1959年由唐纳德·希尔（Donald Shell）提出</p> <p>希尔排序把序列看作是一个矩阵，分成 𝑚 列，逐列进行排序</p> <ul><li>m从某个整数逐渐减为1</li> <li>当 𝑚 为1时，整个序列将完全有序</li></ul> <p>因此，希尔排序也被称为递减增量排序（Diminishing Increment Sort）</p> <p>矩阵的列数取决于步长序列（step sequence）</p> <ul><li>✓比如，如果步长序列为{1,5,19,41,109,...}，就代表依次分成109列、41列、19列、5列、1列进行排序</li> <li>✓不同的步长序列，执行效率也不</li></ul> <h3 id="希尔排序-实例"><a href="#希尔排序-实例" class="header-anchor">#</a> 希尔排序 – 实例</h3> <p>希尔本人给出的步长序列是 𝑛/2𝑘，比如 𝑛 为16时，步长序列是{1, 2, 4, 8}</p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914001358.png" alt="image.png"></p> <p>分成8列进行排序
<img src="https://gitee.com/jarrysong/img/raw/master/img/20200914001433.png" alt="image.png"></p> <p>分成4列进行排序
<img src="https://gitee.com/jarrysong/img/raw/master/img/20200914001453.png" alt="image.png"></p> <p>分成2列进行排序
<img src="https://gitee.com/jarrysong/img/raw/master/img/20200914001513.png" alt="image.png"></p> <p>1列排序之后
<img src="https://gitee.com/jarrysong/img/raw/master/img/20200914001605.png" alt="image.png"></p> <p>不难看出来，从8列 变为 1列的过程中，逆序对的数量在逐渐减少</p> <ul><li>因此希尔排序底层一般使用插入排序对每一列进行排序，也很多资料认为希尔排序是插入排序的改进版</li></ul> <h3 id="希尔排序的实例"><a href="#希尔排序的实例" class="header-anchor">#</a> 希尔排序的实例</h3> <p>假设有11个元素，步长序列是{1, 2, 5}</p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914001623.png" alt="image.png"></p> <p>假设元素在第 col 列、第 row 行，步长（总列数）是 step</p> <ul><li>那么这个元素在数组中的索引是 col + row * step</li> <li>比如 9 在排序前是第 2 列、第 0 行，那么它排序前的索引是 2 + 0 * 5 = 2</li> <li>比如 4 在排序前是第 2 列、第 1 行，那么它排序前的索引是 2 + 1 * 5 = 7</li></ul> <h3 id="希尔排序-实现"><a href="#希尔排序-实现" class="header-anchor">#</a> 希尔排序 – 实现</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stepSequence <span class="token operator">=</span> <span class="token function">sedgewickStepSequence</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span> step <span class="token operator">:</span> stepSequence<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">sort</span><span class="token punctuation">(</span>step<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
	
<span class="token comment">/**
* 分成step列进行排序
*/</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> step<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// col : 第几列，column的简称</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> col <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> col <span class="token operator">&lt;</span> step<span class="token punctuation">;</span> col<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 对第col列进行排序</span>
		<span class="token comment">// col、col+step、col+2*step、col+3*step</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> begin <span class="token operator">=</span> col <span class="token operator">+</span> step<span class="token punctuation">;</span> begin <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> begin <span class="token operator">+=</span> step<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">int</span> cur <span class="token operator">=</span> begin<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">&gt;</span> col <span class="token operator">&amp;&amp;</span> <span class="token function">cmp</span><span class="token punctuation">(</span>cur<span class="token punctuation">,</span> cur <span class="token operator">-</span> step<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">swap</span><span class="token punctuation">(</span>cur<span class="token punctuation">,</span> cur <span class="token operator">-</span> step<span class="token punctuation">)</span><span class="token punctuation">;</span>
				cur <span class="token operator">-=</span> step<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
*获取步长
*/</span>
<span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token function">shellStepSequence</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stepSequence <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> step <span class="token operator">=</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>step <span class="token operator">&gt;&gt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		stepSequence<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>step<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>		
	<span class="token keyword">return</span> stepSequence<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>最好情况是步长序列只有1，且序列几乎有序，时间复杂度为 O(n)</p> <ul><li>空间复杂度为O(1)，属于不稳定排序</li></ul> <h3 id="希尔排序-步长序列"><a href="#希尔排序-步长序列" class="header-anchor">#</a> 希尔排序 – 步长序列</h3> <ul><li>希尔本人给出的步长序列，最坏情况时间复杂度是 O(n2)</li> <li>目前已知的最好的步长序列，最坏情况时间复杂度是 O(n4/3) ，1986年由Robert Sedgewick提出</li></ul> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914001648.png" alt="image.png"></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token function">sedgewickStepSequence</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stepSequence <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> step <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">int</span> pow <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> k <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			step <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">9</span> <span class="token operator">*</span> <span class="token punctuation">(</span>pow <span class="token operator">*</span> pow <span class="token operator">-</span> pow<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			<span class="token keyword">int</span> pow1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">int</span> pow2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			step <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">8</span> <span class="token operator">*</span> pow1 <span class="token operator">*</span> pow2 <span class="token operator">-</span> <span class="token number">6</span> <span class="token operator">*</span> pow2<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>step <span class="token operator">&gt;=</span> array<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
		stepSequence<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> step<span class="token punctuation">)</span><span class="token punctuation">;</span>
		k<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> stepSequence<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="计数排序-counting-sort"><a href="#计数排序-counting-sort" class="header-anchor">#</a> 计数排序（Counting Sort）</h2> <p>1.之前学习的冒泡、选择、插入、归并、快速、希尔、堆排序，都是基于比较的排序</p> <ul><li>平均时间复杂度目前最低是 O(nlogn)</li></ul> <p>2.计数排序、桶排序、基数排序，都不是基于比较的排序</p> <ul><li>它们是典型的用空间换时间，在某些时候，平均时间复杂度可以比 O nlogn 更低</li></ul> <p>3.计数排序于1954年由Harold H. Seward提出，适合对一定范围内的整数进行排序</p> <p>4.计数排序的核心思想</p> <ul><li>统计每个<strong>整数</strong>在序列中出现的次数，进而推导出每个整数在有序序列中的索</li></ul> <h3 id="最简单的实现"><a href="#最简单的实现" class="header-anchor">#</a> 最简单的实现</h3> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914001707.png" alt="image.png"></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 找出最大值</span>
		<span class="token keyword">int</span> max <span class="token operator">=</span> array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				max <span class="token operator">=</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token comment">// O(n)</span>
		
		<span class="token comment">// 开辟内存空间，存储每个整数出现的次数</span>
		<span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> counts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">1</span> <span class="token operator">+</span> max<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token comment">// 统计每个整数出现的次数</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			counts<span class="token punctuation">[</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token comment">// O(n)</span>
		
		<span class="token comment">// 根据整数的出现次数，对整数进行排序</span>
		<span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> counts<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>counts<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">--</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				array<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token comment">// O(n)</span>
	<span class="token punctuation">}</span>	
</code></pre></div><p>这个版本的实现存在以下问题</p> <ul><li>无法对负整数进行排序</li> <li>极其浪费内存空间</li> <li>是个不稳定的排序</li> <li>......</li></ul> <h3 id="改进思路"><a href="#改进思路" class="header-anchor">#</a> 改进思路</h3> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914001726.png" alt="image.png"></p> <p>1.假设array中的最小值是 min</p> <p>2.array中的元素 k 对应的 counts 索引是 k – min</p> <p>3.array中的元素 k 在有序序列中的索引</p> <ul><li>counts[k – min] – p</li> <li>p 代表着是倒数第几个 k</li></ul> <p>4.比如元素 8 在有序序列中的索引</p> <ul><li>counts[8 – 3] – 1，结果为 7</li></ul> <p>5.倒数第 1 个元素 7 在有序序列中的索引</p> <ul><li>counts[7 – 3] – 1，结果为 6</li></ul> <p>6.倒数第 2 个元素 7 在有序序列中的索引</p> <ul><li>counts[7 – 3] – 2，结果为 5</li></ul> <h3 id="改进实现"><a href="#改进实现" class="header-anchor">#</a> 改进实现</h3> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914001744.png" alt="image.png"></p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914001759.png" alt="image.png"></p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914001815.png" alt="image.png"></p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914001836.png" alt="image.png"></p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/20200914001904.png" alt="image.png"></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 找出最值</span>
		<span class="token keyword">int</span> max <span class="token operator">=</span> array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> min <span class="token operator">=</span> array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				max <span class="token operator">=</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> min<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				min <span class="token operator">=</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		
		<span class="token comment">// 开辟内存空间，存储次数</span>
		<span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> counts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>max <span class="token operator">-</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token comment">// 统计每个整数出现的次数</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			counts<span class="token punctuation">[</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> min<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">// 累加次数</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> counts<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			counts<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> counts<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		
		<span class="token comment">// 从后往前遍历元素，将它放到有序数组中的合适位置</span>
		<span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> newArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>array<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> array<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			newArray<span class="token punctuation">[</span><span class="token operator">--</span>counts<span class="token punctuation">[</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> min<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		
		<span class="token comment">// 将有序数组赋值到array</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> newArray<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> newArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
</code></pre></div><h3 id="复杂度分析-5"><a href="#复杂度分析-5" class="header-anchor">#</a> 复杂度分析</h3> <p>最好、最坏、平均时间复杂度：O(n + k) ◼ 空间复杂度：O(n + k)</p> <ul><li>k 是整数的取值范围</li> <li>属于稳定排序</li></ul> <h3 id="对自定义对象进行排序"><a href="#对自定义对象进行排序" class="header-anchor">#</a> 对自定义对象进行排序</h3> <p>如果自定义对象可以提供用以排序的整数类型，依然可以使用计数排序</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">Person</span><span class="token punctuation">[</span><span class="token punctuation">]</span> persons <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
				<span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
				<span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">13</span><span class="token punctuation">,</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
				<span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">,</span> <span class="token string">&quot;C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
				<span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token string">&quot;D&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
				<span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">13</span><span class="token punctuation">,</span> <span class="token string">&quot;E&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
				<span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">&quot;F&quot;</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>
		
		<span class="token comment">// 找出最值</span>
		<span class="token keyword">int</span> max <span class="token operator">=</span> persons<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>age<span class="token punctuation">;</span>
		<span class="token keyword">int</span> min <span class="token operator">=</span> persons<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>age<span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> persons<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>persons<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>age <span class="token operator">&gt;</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				max <span class="token operator">=</span> persons<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>age<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>persons<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>age <span class="token operator">&lt;</span> min<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				min <span class="token operator">=</span> persons<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>age<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		
		<span class="token comment">// 开辟内存空间，存储次数</span>
		<span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> counts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>max <span class="token operator">-</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token comment">// 统计每个整数出现的次数</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> persons<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			counts<span class="token punctuation">[</span>persons<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>age <span class="token operator">-</span> min<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">// 累加次数</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> counts<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			counts<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> counts<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		
		<span class="token comment">// 从后往前遍历元素，将它放到有序数组中的合适位置</span>
		<span class="token class-name">Person</span><span class="token punctuation">[</span><span class="token punctuation">]</span> newArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">[</span>persons<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> persons<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			newArray<span class="token punctuation">[</span><span class="token operator">--</span>counts<span class="token punctuation">[</span>persons<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>age <span class="token operator">-</span> min<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> persons<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		
		<span class="token comment">// 将有序数组赋值到array</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> newArray<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			persons<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> newArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> persons<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>persons<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">private</span>  <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
		<span class="token keyword">int</span> age<span class="token punctuation">;</span>
		<span class="token class-name">String</span> name<span class="token punctuation">;</span>
		<span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token annotation punctuation">@Override</span>
		<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token string">&quot;Person [age=&quot;</span> <span class="token operator">+</span> age 
					<span class="token operator">+</span> <span class="token string">&quot;, name=&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
</code></pre></div><p>排序之后的结果</p> <p>① Person [age=-13, name=B]</p> <p>② Person [age=-13, name=E]</p> <p>③ Person [age=12, name=D]</p> <p>④ Person [age=17, name=C]</p> <p>⑤ Person [age=20, name=A]</p> <p>⑥ Person [age=20, name=F]</p> <h2 id="基数排序-radix-sort"><a href="#基数排序-radix-sort" class="header-anchor">#</a> 基数排序（Radix Sort）</h2> <p>基数排序非常适合用于整数排序（尤其是非负整数），因此本课程只演示对非负整数进行基数排序</p> <h3 id="执行流程-6"><a href="#执行流程-6" class="header-anchor">#</a> 执行流程</h3> <p>依次对个位数、十位数、百位数、千位数、万位数...进行排序（从低位到高位）</p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/image-20200901084157977.png" alt="image-20200901084157977"></p> <p>个位数、十位数、百位数的取值范围都是固定的0~9，可以使用计数排序对它们进行排序</p> <p>**思考：**如果先对高位排序，再对低位排序，是否可行？</p> <h3 id="实现-5"><a href="#实现-5" class="header-anchor">#</a> 实现</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 找出最大值</span>
		<span class="token keyword">int</span> max <span class="token operator">=</span> array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				max <span class="token operator">=</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		
		<span class="token comment">// 个位数: array[i] / 1 % 10 = 3</span>
		<span class="token comment">// 十位数：array[i] / 10 % 10 = 9</span>
		<span class="token comment">// 百位数：array[i] / 100 % 10 = 5</span>
		<span class="token comment">// 千位数：array[i] / 1000 % 10 = ...</span>

		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> divider <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> divider <span class="token operator">&lt;=</span> max<span class="token punctuation">;</span> divider <span class="token operator">*=</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">countingSort</span><span class="token punctuation">(</span>divider<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">countingSort</span><span class="token punctuation">(</span><span class="token keyword">int</span> divider<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 开辟内存空间，存储次数</span>
		<span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> counts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token comment">// 统计每个整数出现的次数</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			counts<span class="token punctuation">[</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">/</span> divider <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">// 累加次数</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> counts<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			counts<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> counts<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		
		<span class="token comment">// 从后往前遍历元素，将它放到有序数组中的合适位置</span>
		<span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> newArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>array<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> array<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			newArray<span class="token punctuation">[</span><span class="token operator">--</span>counts<span class="token punctuation">[</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">/</span> divider <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		
		<span class="token comment">// 将有序数组赋值到array</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> newArray<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> newArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
</code></pre></div><h3 id="复杂度"><a href="#复杂度" class="header-anchor">#</a> 复杂度</h3> <p>最好、最坏、平均时间复杂度：O(d ∗ (n + k))，d 是最大值的位数，k 是进制。属于稳定排序</p> <p>空间复杂度：O(n + k)，k 是进制</p> <h3 id="另一种思路"><a href="#另一种思路" class="header-anchor">#</a> 另一种思路</h3> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/image-20200901085836524.png" alt="image-20200901085836524"></p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/image-20200901090112980.png" alt="image-20200901090112980"></p> <p>空间复杂度是 O(kn + k)，时间复杂度是 O(dn)</p> <p>d 是最大值的位数，k 是进制</p> <h2 id="桶排序-bucket-sort"><a href="#桶排序-bucket-sort" class="header-anchor">#</a> 桶排序（Bucket Sort）</h2> <p>参考：https://blog.csdn.net/zxzxzx0119/article/details/79826380#t13</p> <h3 id="执行流程-7"><a href="#执行流程-7" class="header-anchor">#</a> 执行流程</h3> <p>① 创建一定数量的桶（比如用数组、链表作为桶）</p> <p>② 按照一定的规则（不同类型的数据，规则不同），将序列中的元素均匀分配到对应的桶</p> <p>③ 分别对每个桶进行单独排序</p> <p>④ 将所有非空桶的元素合并成有序序列</p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/image-20200901090351915.png" alt="image-20200901090351915"></p> <p>元素在桶中的索引</p> <p>元素值 * 元素数量</p> <h3 id="实现-6"><a href="#实现-6" class="header-anchor">#</a> 实现</h3> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/image-20200901090425970.png" alt="image-20200901090425970"></p> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/image-20200901090636618.png" alt="image-20200901090636618"></p> <h2 id="史上-最强-排序-休眠排序"><a href="#史上-最强-排序-休眠排序" class="header-anchor">#</a> 史上“最强”排序 – 休眠排序</h2> <p><img src="https://gitee.com/jarrysong/img/raw/master/img/image-20200901090714902.png" alt="image-20200901090714902"></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">10/23/2020, 10:57:01 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/zh/java/algorithms/" class="prev router-link-active">
        大纲
      </a></span> <span class="next"><a href="/blog/zh/java/algorithms/union-find.html">
        并查集
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.b29a8dd7.js" defer></script><script src="/blog/assets/js/2.f6cef42b.js" defer></script><script src="/blog/assets/js/63.1a1ddafe.js" defer></script>
  </body>
</html>
